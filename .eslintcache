[{"/Users/filsmac/Desktop/Instagram Clone/instagram-clone/src/App.js":"1","/Users/filsmac/Desktop/Instagram Clone/instagram-clone/src/index.js":"2","/Users/filsmac/Desktop/Instagram Clone/instagram-clone/src/Post.js":"3","/Users/filsmac/Desktop/Instagram Clone/instagram-clone/src/firebase.js":"4","/Users/filsmac/Desktop/Instagram Clone/instagram-clone/src/ImageUpload.js":"5"},{"size":4117,"mtime":1606299931382,"results":"6","hashOfConfig":"7"},{"size":432,"mtime":1606119415245,"results":"8","hashOfConfig":"7"},{"size":585,"mtime":1606123596749,"results":"9","hashOfConfig":"7"},{"size":606,"mtime":1606132996573,"results":"10","hashOfConfig":"7"},{"size":1828,"mtime":1606299314323,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"14"},"g1xgny",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"17"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},"/Users/filsmac/Desktop/Instagram Clone/instagram-clone/src/App.js",["25","26","27","28"],"import { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Post from \"./Post\";\nimport { auth, db } from \"./firebase\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { Button, Input, makeStyles } from \"@material-ui/core\";\nimport ImageUpload from \"./ImageUpload\";\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nfunction App() {\n  const classes = useStyles();\n  const [modalStyle] = useState(getModalStyle);\n\n  const [posts, setPosts] = useState([]);\n  const [openSignIn, setOpenSignIn] = useState(false);\n  const [open, setOpen] = useState(false);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      if (authUser) {\n        console.log(authUser);\n        setUser(authUser);\n      } else {\n        setUser(null);\n      }\n    });\n\n    return () => {\n      unsubscribe();\n    };\n  }, [user, username]);\n\n  useEffect(() => {\n    db.collection(\"posts\")\n      .orderBy(\"timestamp\", \"desc\")\n      .onSnapshot((snapshot) => {\n        setPosts(\n          snapshot.docs.map((doc) => ({\n            id: doc.id,\n            post: doc.data(),\n          }))\n        );\n      });\n  }, []);\n\n  const signUp = (event) => {\n    event.preventDefault();\n\n    auth\n      .createUserWithEmailAndPassword(email, password)\n      .then((authUser) => {\n        return authUser.user.updateProfile({\n          displayName: username,\n        });\n      })\n      .catch((error) => alert(error.message));\n\n    setOpen(false);\n  };\n\n  const signIn = (event) => {\n    event.preventDefault();\n    auth\n      .signInWithEmailAndPassword(email, password)\n      .catch((error) => alert(error.message));\n\n    setOpenSignIn(false);\n  };\n\n  return (\n    <div className=\"app\">\n      <Modal open={openSignIn} onClose={() => setOpenSignIn(false)}>\n        <div style={modalStyle} className={classes.paper}>\n          <form className=\"app__signup\">\n            <center>\n              <img\n                className=\"app__headerImage\"\n                src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n                alt=\"\"\n              />\n            </center>\n\n            <Input\n              placeholder=\"email\"\n              type=\"text\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n\n            <Input\n              placeholder=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n\n            <Button type=\"submit\" onClick={signIn}>\n              Sign In\n            </Button>\n          </form>\n        </div>\n      </Modal>\n\n      <div className=\"app__header\">\n        <img\n          className=\"app__headerImage\"\n          src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n        />\n        {user ? (\n          <Button onClick={() => auth.signOut()}>Logout</Button>\n        ) : (\n          <div className=\"app__loginContainer\">\n            <Button onClick={() => setOpenSignIn(true)}>Sign In</Button>\n            <Button onClick={() => setOpen(true)}>Sign Up</Button>\n          </div>\n        )}\n      </div>\n\n      {posts.map(({ id, post }) => (\n        <Post\n          key={id}\n          username={post.username}\n          caption={post.caption}\n          imageUrl={post.imageUrl}\n        />\n      ))}\n\n      {user?.displayName ? (\n        <ImageUpload username={user.displayName} />\n      ) : (\n        <h3>Sorry you need to login to upload</h3>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","/Users/filsmac/Desktop/Instagram Clone/instagram-clone/src/index.js",[],["29","30"],"/Users/filsmac/Desktop/Instagram Clone/instagram-clone/src/Post.js",[],"/Users/filsmac/Desktop/Instagram Clone/instagram-clone/src/firebase.js",[],"/Users/filsmac/Desktop/Instagram Clone/instagram-clone/src/ImageUpload.js",["31","32"],"import { Button } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\nimport { storage, db } from \"./firebase\";\nimport firebase from \"firebase\";\nimport \"./ImageUpload.css\";\n\nfunction ImageUpload({ username }) {\n  const [image, setImage] = useState(\"\");\n  const [url, setUrls] = useState(\"\");\n  const [progress, setProgress] = useState(0);\n  const [caption, setCaption] = useState(\"\");\n\n  const handleChange = (e) => {\n    if (e.target.files[0]) {\n      setImage(e.target.files[0]);\n    }\n  };\n\n  const handleUpload = () => {\n    const uploadTask = storage.ref(`images/${image.name}`).put(image);\n    uploadTask.on(\n      \"state_changed\",\n      (snapshot) => {\n        const progress = Math.round(\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n        );\n        setProgress(progress);\n      },\n      (error) => {\n        console.log(error);\n        alert(error.message);\n      },\n\n      () => {\n        storage\n          .ref(\"images\")\n          .child(image.name)\n          .getDownloadURL()\n          .then((url) => {\n            db.collection(\"posts\").add({\n              timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n              caption: caption,\n              imageUrl: url,\n              username: username,\n            });\n            setProgress(0);\n            setCaption(\"\");\n            setImage(null);\n          });\n      }\n    );\n  };\n\n  return (\n    <div className=\"imageupload\">\n      <progress className=\"imageupload__progress\" value={progress} max=\"100\" />\n      <input\n        type=\"text\"\n        placeholder=\"Enter a caption...\"\n        onChange={(event) => setCaption(event.target.value)}\n      ></input>\n      <input type=\"file\" onChange={handleChange} />\n      <Button onClick={handleUpload}>Upload</Button>\n    </div>\n  );\n}\n\nexport default ImageUpload;\n",{"ruleId":"33","severity":1,"message":"34","line":37,"column":10,"nodeType":"35","messageId":"36","endLine":37,"endColumn":14},{"ruleId":"33","severity":1,"message":"37","line":38,"column":20,"nodeType":"35","messageId":"36","endLine":38,"endColumn":31},{"ruleId":"33","severity":1,"message":"38","line":71,"column":9,"nodeType":"35","messageId":"36","endLine":71,"endColumn":15},{"ruleId":"39","severity":1,"message":"40","line":130,"column":9,"nodeType":"41","endLine":133,"endColumn":11},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","replacedBy":"45"},{"ruleId":"33","severity":1,"message":"46","line":9,"column":10,"nodeType":"35","messageId":"36","endLine":9,"endColumn":13},{"ruleId":"33","severity":1,"message":"47","line":9,"column":15,"nodeType":"35","messageId":"36","endLine":9,"endColumn":22},"no-unused-vars","'open' is assigned a value but never used.","Identifier","unusedVar","'setUsername' is assigned a value but never used.","'signUp' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-native-reassign",["48"],"no-negated-in-lhs",["49"],"'url' is assigned a value but never used.","'setUrls' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]